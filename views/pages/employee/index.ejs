<div class="row">
  <div class="col-md-12 col-sm-12 ">
    <div class="x_panel">
      <div class="x_title">
        <h2>Current Users<small>Employees</small></h2>
        <ul class="nav navbar-right panel_toolbox">
          <li>
            <a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
          </li>
          <li class="dropdown">
            <a
              href="#"
              class="dropdown-toggle"
              data-toggle="dropdown"
              role="button"
              aria-expanded="false"
              ><i class="fa fa-wrench"></i
            ></a>
            <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
              <a class="dropdown-item" href="#">Settings 1</a>
              <a class="dropdown-item" href="#">Settings 2</a>
            </div>
          </li>
          <li>
            <a class="close-link"><i class="fa fa-close"></i></a>
          </li>
        </ul>
        <div class="clearfix"></div>
      </div>
      <div class="x_content">
        <div class="row">
          <div class="col-sm-12">
            <div class="card-box table-responsive">
              <p class="text-muted font-13 m-b-30">Displaying all the active employees.</p>

              <table
                id="datatable-employees"
                class="table table-striped table-bordered dt-responsive nowrap"
                cellspacing="0"
                width="100%"
              >
                <thead>
                  <tr>
                    <th>#</th>
                    <th>UID</th>
                    <th>Name</th>
                    <th>Gender</th>
                    <th>CNIC</th>
                    <th>Contact</th>
                    <th>E-mail</th>
                    <th>Role</th>
                    <th>Shift</th>
                    <th>Actions</th>
                  </tr>
                </thead>
                <tbody>
                  <% if(employees) {employees.forEach((employee, index) => { %>
                  <tr>
                    <td><%= index + 1 %></td>
                    <td><%= employee.employee_id %></td>
                    <td><%= toProperCase(employee.full_name) %></td>
                    <td><%= toProperCase(employee.gender) %></td>
                    <td><%= employee.cnic || 'N/A' %></td>
                    <td><%= employee.contact || 'N/A' %></td>
                    <td><%= employee.email || 'N/A' %></td>
                    <td><%= employee.employee_type ? toProperCase(employee.employee_type) : 'N/A' %></td>
                    <td><%= employee.shift ? toProperCase(employee.shift) : 'N/A' %></td>
                    <td>
                      <a class="text-info" href="/employee/profile/<%= employee.employee_id %>"
                        >View</a
                      >
                      | <a href="/employee/edit/<%= employee.employee_id %>">Edit</a> |
                      <a class="text-danger" href="">Delete</a>
                    </td>
                  </tr>
                  <% });} else { %>
                  <tr>
                    No record found
                  </tr>
                  <% } %>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<script>
  $(document).ready(function() {
    $('#datatable-employees').DataTable({
      columnDefs: [
        {
          targets: [1],
          visible: false,
          searchable: false,
        },
        {
          targets: [-1],
          searchable: false,
          orderable: false,
        },
      ],
    });
  });
</script>
